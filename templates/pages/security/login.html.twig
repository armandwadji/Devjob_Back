{% extends 'base.html.twig' %}

{% block title %}Devjob - login
{% endblock %}

{% block body %}
	<div class="container">
		<h1 class="mt-4">Formulaire de connexion</h1>

		{# read and display just one flash message type #}
		{% for message in app.flashes('success') %}
			<div class="alert alert-success mt-4">
				{{ message }}
			</div>
		{% endfor %}

        {# MESSAGE D'ERREUR #}
		{% if error %}
			<div class="alert alert-dismissible alert-danger mt-4">
				<div>{{ error.messageKey|trans(error.messageData, 'security') }}</div>
			</div>
		{% endif %}

		<form action="{{path('security.login')}}" method="post">

			<div class="form-group">
				<label for="username" class="form-label mt-4">Address email</label>
				<input type="email" class="form-control" value='{{lastUsername}}' id="username" aria-describedby="emailHelp" placeholder="blah@devjob.fr" name='_username'>
				<small id="emailHelp" class="form-text text-muted">Nous ne partagerons jamais votre e-mail avec quelqu'un d'autre.</small>
			</div>
			<div class="form-group password-registration">
				<label for="password" class="form-label mt-4">Mot de passe</label>
				<input type="password" class="form-control" id="password" placeholder="********" name='_password'>
				<i class="fa-solid fa-eye"></i>
			</div>

			<button type='submit' class="btn btn-primary mt-4">Se connecter</button>
		</form>

	</div>
{% endblock %}
